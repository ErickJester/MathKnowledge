<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Registro de Usuario con Dirección</title>
  <link rel="stylesheet" href="../Styles/regist_style.css">
</head>
<body>
  <h1>Registrarse</h1>
  <form action="registrar_usuario.php" method="POST" onsubmit="return validarFormulario();">
    <label>Tipo de Usuario:</label>
    <select id="tipo_usuario" name="tipo_usuario" required>
      <option value="Administrador">Administrador</option>
      <option value="Bibliotecario">Bibliotecario</option>
      <option value="Lector">Lector</option>
    </select>
    <br />

    <label>Nombre:</label><input type="text" name="nombre" required /><br />
    <label>Apellido Paterno:</label><input type="text" name="apellidoP" required /><br />
    <label>Apellido Materno:</label><input type="text" name="apellidoM" required /><br />
    <label>Fecha de Nacimiento:</label><input type="date" name="fecha_nacimiento" required /><br />
    <label>Teléfono:</label><input type="text" name="telefono" required /><br />
    <label>Correo Electrónico:</label><input type="email" name="correo" required /><br />

    <h3>Dirección</h3>
    <label>Calle:</label><input type="text" name="calle" required /><br />
    <label>Colonia:</label><input type="text" name="colonia" required /><br />
    <label>Código Postal:</label><input type="text" name="codigo_postal" required /><br />
    <label>País:</label><input type="text" name="pais" required /><br />

    <button type="submit">Registrar</button>
  </form>

  <script>
    function validarFormulario() {
      const tipo = document.getElementById("tipo_usuario").value;
      const regex = {
        Administrador: /^A\d{3}$/, Bibliotecario: /^B\d{3}$/, Lector: /^C\d{4}$/
      }[tipo];
      return true; // Validación del código se hace en el backend
    }
  </script>
</body>
</html>